webpackJsonp([1],{0:function(e,t,o){o(247),e.exports=o(248)},107:function(e,t,o){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0}),t.Test=void 0;var s=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var o=arguments[t];for(var n in o)Object.prototype.hasOwnProperty.call(o,n)&&(e[n]=o[n])}return e},u=function(){function e(e,t){for(var o=0;o<t.length;o++){var n=t[o];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,o,n){return o&&e(t.prototype,o),n&&e(t,n),t}}(),c=o(8),p=n(c),l=o(124),d=n(l),f=t.Test=function(e){function t(e){i(this,t);var o=r(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return o.video=null,o.state={src:"",img:"",emotion:"",displayCapturedImage:!1},o.initializeCam=o.initializeCam.bind(o),o.snapshot=o.snapshot.bind(o),o.mapEmotion=o.mapEmotion.bind(o),o}return a(t,e),u(t,[{key:"componentDidMount",value:function(){this.initializeCam()}},{key:"initializeCam",value:function(){var e=this;navigator.getUserMedia=navigator.getUserMedia||navigator.webkitGetUserMedia||navigator.mozGetUserMedia||navigator.msGetUserMedia;var t=function(t){return e.setState({src:window.URL.createObjectURL(t)})};if(navigator.getUserMedia){var o={video:!0,audio:!1};navigator.getUserMedia(o,t,function(e){return console.log("Rejected!",e)})}}},{key:"snapshot",value:function(){var e=this,t=document.createElement("canvas"),o=window.innerHeight,n=4*o/3;t.width=n,t.height=o;var i=t.getContext("2d");i.translate(n,0),i.scale(-1,1),i.drawImage(this.video,0,0,n,o);var r=t.toDataURL("image/jpeg");d.default.post("/api/upload",{img:r}).then(function(t){var o=t.data;console.log(o),e.setState(s({},e.state,{emotion:o}))}),setTimeout(function(){e.setState(s({},e.state,{displayCapturedImage:!1,emotion:""}))},4e3),this.setState(s({},this.state,{img:r,displayCapturedImage:!0}))}},{key:"mapEmotion",value:function(e){var t={happiness:"http://i.imgur.com/tHUoJRm.png",sadness:"http://i.imgur.com/o6JnT93.png",anger:"http://i.imgur.com/IgG7fBM.png",surprise:"http://i.imgur.com/yV5Pimd.png",neutral:"http://i.imgur.com/3kczTRF.png"};return t[e]}},{key:"render",value:function(){var e=this;return p.default.createElement("div",{className:"video--container"},p.default.createElement("video",{className:"video--flip",ref:function(t){return e.video=t},autoPlay:!0,src:this.state.src}),this.state.displayCapturedImage&&p.default.createElement("div",{className:"captured-image"},p.default.createElement("img",{src:this.mapEmotion(this.state.emotion),className:"emotion"}),p.default.createElement("img",{src:this.state.img})),p.default.createElement("div",{className:"video__footer"},p.default.createElement("img",{src:"http://i.imgur.com/ENNzMac.png",onClick:this.snapshot,className:"video__footer__button"})))}}]),t}(p.default.Component),m=f;t.default=m,function(){"undefined"!=typeof __REACT_HOT_LOADER__&&(__REACT_HOT_LOADER__.register(f,"Test","C:/Users/zozos/Desktop/project/app/src/Test.jsx"),__REACT_HOT_LOADER__.register(m,"default","C:/Users/zozos/Desktop/project/app/src/Test.jsx"))}()},143:function(e,t,o){t=e.exports=o(144)(),t.push([e.id,".video--flip{-webkit-transform:scaleX(-1);transform:scaleX(-1)}.captured-image,.video--flip{height:100%;box-shadow:0 5px 40px rgba(0,0,0,.3)}.captured-image{z-index:1;position:fixed}.captured-image .emotion{height:256px;position:fixed;top:10;right:20}@media (max-width:600px){.captured-image .emotion{height:70px}}.video--container{height:100vh;position:relative;background-color:#2c2f34}.video--container,.video__footer{display:flex;justify-content:center;width:100%}.video__footer{position:absolute;bottom:30}.video__footer .video__footer__button{height:60px;cursor:pointer}",""])},248:function(e,t,o){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}var i=o(8),r=n(i),a=o(176),s=o(240),u=(o(252),o(249)),c=n(u),p=o(107),l=(n(p),function(e){(0,a.render)(r.default.createElement(s.AppContainer,null,r.default.createElement(e,null)),document.getElementById("app"))});l(c.default),function(){"undefined"!=typeof __REACT_HOT_LOADER__&&__REACT_HOT_LOADER__.register(l,"renderApp","C:/Users/zozos/Desktop/project/app/index.js")}()},249:function(e,t,o){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=o(8),r=n(i),a=o(267);o(291);var s=o(107),u=n(s);a.Router.prototype.componentWillReceiveProps=function(e){function t(e){e.props&&e.props.component&&o.push(e.props.component),e.props&&e.props.children&&r.default.Children.forEach(e.props.children,t)}var o=[];t(e.routes||e.children),o.forEach(r.default.createElement)};var c=function(){return r.default.createElement(u.default,null)},p=c;t.default=p,function(){"undefined"!=typeof __REACT_HOT_LOADER__&&(__REACT_HOT_LOADER__.register(c,"App","C:/Users/zozos/Desktop/project/app/src/App.jsx"),__REACT_HOT_LOADER__.register(p,"default","C:/Users/zozos/Desktop/project/app/src/App.jsx"))}()},291:function(e,t,o){var n=o(143);"string"==typeof n&&(n=[[e.id,n,""]]),o(290)(n,{}),n.locals&&(e.exports=n.locals)}});